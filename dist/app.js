!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getTime=function(){var e=new Date,t=e.getSeconds().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return e.getHours().toString().padStart(2,"0")+":"+n+":"+t},t.parseHTML=function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content},t.insertChildren=function(e,t){return"string"==typeof t?e.insertAdjacentHTML("beforeend",t):Array.isArray(t)?t.forEach(function(t){"string"==typeof t?e.insertAdjacentHTML("beforeend",t):e.append(t)}):e.append(t),e},t.status=function(e){if(e.ok||400===e.status)return e;throw console.log(e),new Error(e.statusText)},t.json=function(e){return e.json()},t.errorHandler=function(e){throw e.validations?new Error(e.error+":\n"+e.validations.join("\n")):new Error(e.error)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(25);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=function(){function e(t){r(this,e),this.props=t||{},this.state={},this.host=null,this.updateState=this.updateState.bind(this)}return u(e,[{key:"componentsStateWillUpdate",value:function(e){}},{key:"updateState",value:function(e){return this.componentsStateWillUpdate(e),this.state=o({},this.state,e),this._render(),this.state}},{key:"update",value:function(e){return this.beforeUpdate(e),this.props=e,this._render()}},{key:"beforeUpdate",value:function(){}},{key:"_render",value:function(){var e=this.render();return this.host.innerHTML="",(0,i.insertChildren)(this.host,e)}},{key:"render",value:function(){}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH_SERVICE=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(7),i=(n(1),function(){function e(){r(this,e),this._token=localStorage.getItem("token")||null,this._claims=null}return o(e,[{key:"isAuthorized",value:function(){return!!this.token}},{key:"login",value:function(e){var t=this;return(0,u.loginUser)(e).then(function(e){var n=e.success,r=e.token;return n?(t.token=r,{success:n}):e})}},{key:"token",set:function(e){this._token=e,localStorage.setItem("token",e)},get:function(){return this._token}}]),e}());t.AUTH_SERVICE=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUser=t.loginUser=t.getStoreList=void 0;var r=n(1),o="https://pizza-tele.ga/api/v1",u={storeList:"/store/list",userCreate:"/user/create",userLogin:"/user/login",userInfo:"/user/my_info",ingredientList:"/ingredient/list"};t.getStoreList=function(){return fetch(o+u.storeList).then(function(e){if(e.ok)return e.json();throw new Error(e.error)})},t.loginUser=function(e){return fetch(o+u.userLogin,{method:"POST",body:JSON.stringify(e)}).then(r.status).then(r.json)},t.createUser=function(e){return fetch(o+u.userCreate,{method:"POST",body:JSON.stringify(e)}).then(r.status).then(r.json)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(11),u=r(o),i=n(38),a=r(i),s=new a.default(u.default);document.getElementById("root").appendChild(s.host)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),u=r(o),i=n(27),a=r(i),s=n(32),c=r(s),l=n(36),f=r(l);t.default=[{href:"",redirectTo:"/"},{href:"/",Component:u.default,authRequired:!0},{href:"/login",Component:a.default,authRequired:!1},{href:"/register",Component:c.default,authRequired:!1},{href:"/user",Component:f.default,authRequired:!0}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(13);var s=n(0),c=n(2),l=r(c),f=n(19),p=r(f),d=n(3),h=r(d),_=function(e){function t(){o(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e.host=document.createElement("div"),e.host.classList.add("app__container"),e.header=new l.default,e.main=new p.default,e.footer=new h.default,e}return i(t,e),a(t,[{key:"render",value:function(){return[this.header.update(),this.main.update(),this.footer.update()]}}]),t}(s.Component);t.default=_},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(15);var a=n(1),s=n(0),c=n(16),l=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.host=document.createElement("div"),e.host.classList.add("header__container"),e.clock=new l.default,e}return u(t,e),i(t,[{key:"render",value:function(){var e=(0,a.parseHTML)('\n\t\t\t<header class="header">\n\t\t\t\t<div class="header__time" id="time">\n\t\t\t\t</div>\n\t\t\t\t<div class="header__logo">\n\t\t\t\t\t<a href="#/">\n\t\t\t\t\t\t<img class="logo__img" src="img/pizza-logo.png"\n\t\t\t\t\t\t\talt="Pizza app logo">\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div class="header__login">\n\t\t\t\t\t<a href="#/login" class="button login__button">\n\t\t\t\t\t\t<i class="fa fa-sign-in"></i>\n\t\t\t\t\t\tLogin/Signup\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t');return e.getElementById("time").append(this.clock.update()),e}}]),t}(s.Component);t.default=f},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(18);var a=n(1),s=n(0),c=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={currentTime:(0,a.getTime)()},e.host=document.createElement("div"),e.host.classList.add("clock__container"),setInterval(function(){var t=(0,a.getTime)();e.updateState({currentTime:t})},1e3),e}return u(t,e),i(t,[{key:"render",value:function(){return'\n\t\t\t<i class="fa fa-clock-o"></i>\n\t\t\t<time class="time__current-time" id="current-time">\n\t\t\t\t'+this.state.currentTime+"\n\t\t\t</time>\n\t\t"}}]),t}(s.Component);t.default=c},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(20);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(21);var a=n(0),s=n(22),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.host=document.createElement("main"),e.host.classList.add("main__container"),e.list=new c.default,e}return u(t,e),i(t,[{key:"render",value:function(){return['<button class="button main__button">+ Add new pizza</button>',this.list.update()]}}]),t}(a.Component);t.default=l},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(23);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(24);var a=n(0),s=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.host=document.createElement("div"),e.host.classList.add("list__container"),e}return u(t,e),i(t,[{key:"render",value:function(){for(var e=[],t=11;t>=0;t--){e.push('\n\t\t\t\t<article class="list__item">\n\t\t\t\t\t<img src="img/item__pizza_2x.png" alt="" class="item__pic">\n\t\t\t\t\t<time class="item__order-time">10:25:46</time>\n\t\t\t\t\t<h3 class="item__number-in-queue">#1</h3>\n\t\t\t\t\t<time datetime="0h 1m 0s" class="item__eta">ETA: 1min</time>\n\t\t\t\t\t<span class="item__price">$5.00</span>\n\t\t\t\t</article>\n\t\t\t')}return e}}]),t}(a.Component);t.default=s},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(26);var a=n(0),s=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.host=document.createElement("div"),e.host.classList.add("footer__container"),e}return u(t,e),i(t,[{key:"render",value:function(){return'\n\t\t\t<footer class="footer">\n\t\t\t\t<address class="footer__address">\n\t\t\t\t\tKottans, Kottans Str. 1,\n\t\t\t\t\t<a href="tel:5778887">tel. 57-788-87</a>\n\t\t\t\t</address>\n\t\t\t\t<span class="footer__copyright">Pizza Manager &copy; 2018</span>\n\t\t\t</footer>\n\t\t'}}]),t}(a.Component);t.default=s},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=n(2),l=r(c),f=n(5),p=r(f),d=n(3),h=r(d),_=function(e){function t(){o(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.host=document.createElement("div"),e.host.classList.add("login__container"),e.header=new l.default,e.loginForm=new p.default,e.footer=new h.default,e}return i(t,e),a(t,[{key:"render",value:function(){return[this.header.update(),this.loginForm.update(),this.footer.update()]}}]),t}(s.Component);t.default=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(29);var a=(n(1),n(0)),s=n(6),c=n(8),l=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.host=document.createElement("div"),e.host.classList.add("login-form__container"),e.host.addEventListener("submit",function(t){return e.handleSubmit(t)}),e.message=new l.default,e}return u(t,e),i(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={username:e.target.username.value,password:e.target.password.value};s.AUTH_SERVICE.login(n).then(function(e){e.success?(t.message.update({response:e}),setTimeout(function(){window.location.hash="/user"},1e3)):t.message.update({response:e})}).catch(console.error)}},{key:"render",value:function(){return['\n<form class="login-form" method="post">\n\t<label for="username">Username:</label>\n\t<input type="text" class="login-form__name" name="username" id="username" required>\n\t<label for="password">Password:</label>\n\t<input type="password" class="login-form__password" name="password"\n\t\tid="password" required>\n\t<div class="login-form__button-wrapper">\n\t\t<input type="submit" class="button login-form__button button--sign-in"\n\t\t\tvalue="Sign in">\n\t\t<a href="#/register" class="button login-form__button button--sign-up">\n\t\t\tSign up\n\t\t</a>\n\t</div>\n</form>\n\t\t',this.message.update()]}}]),t}(a.Component);t.default=f},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(31);var a=n(0),s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.host=document.createElement("div"),n.host.classList.add("message__container"),n}return u(t,e),i(t,[{key:"render",value:function(){if(!this.props)return"";var e=this.props.response,t=e.success,n=e.error,r=e.validations;return t?'<p class="message--success">Login success! Redirecting...</p>':r?'\n\t\t\t\t<p class="message--error">'+n+':</p>\n\t\t\t\t<ul class="message__validations">\n\t\t\t\t\t'+r.map(function(e){return"<li>"+e+"</li>"}).join("")+"\n\t\t\t\t</ul>\n\t\t\t":'<p class="message__error">'+n+":</p>"}}]),t}(a.Component);t.default=s},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=n(2),l=r(c),f=n(33),p=r(f),d=n(3),h=r(d),_=function(e){function t(){o(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.host=document.createElement("div"),e.host.classList.add("register__container"),e.header=new l.default,e.registerForm=new p.default,e.footer=new h.default,e}return i(t,e),a(t,[{key:"render",value:function(){return[this.header.update(),this.registerForm.update(),this.footer.update()]}}]),t}(s.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(34);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(35);var a=(n(1),n(0)),s=n(7),c=n(8),l=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={stores:[]},e.host=document.createElement("div"),e.host.classList.add("login-form__container"),e.host.addEventListener("submit",function(t){return e.handleSubmit(t)}),e.message=new l.default,e.getStores(),e}return u(t,e),i(t,[{key:"getStores",value:function(){var e=this;return(0,s.getStoreList)().then(function(t){return e.updateState({stores:t})})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={username:e.target.username.value,password:e.target.password.value,password_repeat:e.target.password_repeat.value,email:e.target.email.value,store_id:+e.target.store_id.value,store_password:e.target.store_password.value};return(0,s.createUser)(n).then(function(e){e.success?(t.message.update({response:e}),setTimeout(function(){window.location.hash="/login"},1e3)):t.message.update({response:e})}).catch(console.error)}},{key:"render",value:function(){return['\n<form class="register-form" method="post">\n\t<label for="username">Username:</label>\n\t<input type="text" class="register-form__name" name="username" id="username" required>\n\t<label for="email">Email:</label>\n\t<input type="email" class="register-form__email" name="email" id="email" required>\n\t<label for="password">Password:</label>\n\t<input type="password" class="register-form__password" name="password"\n\t\tid="password" required>\n\t<label for="password_repeat">Confirm password:</label>\n\t<input type="password" class="register-form__password" name="password_repeat"\n\t\tid="password_repeat" required>\n\t<label for="store_id">Choose your store:</label>\n\t<select class="register-form__store_id" name="store_id"\n\t\tid="store_id" required>\n\t\t'+this.state.stores.map(function(e){var t="";return 2==e.id&&(t="selected"),'<option value="'+e.id+'" '+t+">"+e.name+"</option>"}).join("")+'\n\t</select>\n\t<label for="store_password">Store password:</label>\n\t<input type="password" class="register-form__store_password" name="store_password"\n\t\tid="store_password" required>\n\t<input type="submit" class="button register-form__button button--register"\n\t\tvalue="Sign up">\n</form>\n\t\t',this.message.update()]}}]),t}(a.Component);t.default=f},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=n(2),l=r(c),f=n(5),p=(r(f),n(3)),d=r(p),h=n(37),_=function(e){function t(){o(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.host=document.createElement("div"),e.host.classList.add("login__container"),e.header=new l.default,e.footer=new d.default,e.user_profile=h.AUTH_HTTP.get("https://pizza-tele.ga/api/v1/user/my_info"),e}return i(t,e),a(t,[{key:"render",value:function(){return[this.header.update(),"user info goes here",this.footer.update()]}}]),t}(s.Component);t.default=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH_HTTP=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(6),i=function(){function e(){r(this,e)}return o(e,[{key:"get",value:function(e){if(!u.AUTH_SERVICE.isAuthorized)throw new Error("Non-authorized request");var t=new Headers;return t.append("Authorization","Bearer "+u.AUTH_SERVICE.token),t.append("content-type","application/json"),fetch(e,{method:"GET",headers:t}).then(console.log)}},{key:"post",value:function(){}},{key:"patch",value:function(){}}]),e}();t.AUTH_HTTP=new i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(a),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeRoute:null,activeComponent:null,routes:e},n.host=document.createElement("div"),n.host.classList.add("router__container"),window.addEventListener("hashchange",function(){n.handleUrlChange(n.path)}),n.handleUrlChange(n.path),n}return u(t,e),i(t,[{key:"handleUrlChange",value:function(e){var t=this.state.routes,n=t.find(function(t){return t.href===e});return n.redirectTo?this.handleRedirect(n.redirectTo):n.onEnter?this.handleOnEnter(n,e):void this.applyRoute(n,e)}},{key:"handleRedirect",value:function(e){console.log("redirectTo",e),this.navigateTo(e)}},{key:"navigateTo",value:function(e){window.location.hash=e}},{key:"handleOnEnter",value:function(e){e.onEnter()}},{key:"applyRoute",value:function(e,t){var n=e.Component,r=new n;this.updateState({activeRoute:e,activeComponent:r})}},{key:"render",value:function(){return this.state.activeComponent.update()}},{key:"path",get:function(){return window.location.hash.slice(1)}}]),t}(s.default);t.default=c}]);